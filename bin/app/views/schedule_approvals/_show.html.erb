<% if @session_user.advisor %>
  <% if @session_user.id == @user.advised_by and ScheduleApproval.exists?(user: @user, semester: @active_semester) and not ScheduleApproval.where(user: @user, semester: @active_semester).take.approved %>
    <paper-button id="advisor_approve_schedule_button" raised style="color:#4CAF50;background-color:#fafafa;font-weight:bold;"><%= link_to "Approve Schedule", user_schedule_approval_path(@user, ScheduleApproval.where(user: @user).take), :method => :patch, remote: true, id: 'advisor_approve_schedule_link' %></paper-button>
  <% elsif @session_user.id == @user.advised_by and ScheduleApproval.exists?(user: @user, semester: @active_semester) and ScheduleApproval.where(user: @user, semester: @active_semester).take.approved %>
    <paper-material z="0" style="border-radius:3px;padding:10px;background-color:#fafafa;color:#4CAF50;">Schedule Approved</paper-material>
  <% end %>

<% else %>

  <% if (not ScheduleApproval.exists?(user: @user, semester: @active_semester)) and Schedule.where(user_id: @user.id, semester: @active_semester).exists? %>
    <%= form_for [@user, ScheduleApproval.new], remote: true do |f| %>
      <%= f.submit 'submit', id: 'submit_approval_button', hidden: "" %>
      <paper-button raised style="background-color:#fafafa;font-weight:bold;color:#4CAF50;" id="submit_approval_paper_button">Submit for Approval</paper-button>
    <% end %>
  <% elsif ScheduleApproval.exists?(user: @user, semester: @active_semester) and ScheduleApproval.where(user: @user, semester: @active_semester).take.approved %>
    <paper-material z="0" style="border-radius:3px;padding:10px;background-color:#fafafa;color:#4CAF50;">Schedule Approved</paper-material>
  <% elsif ScheduleApproval.exists?(user: @user, semester: @active_semester) %>
    <paper-material z="0" style="border-radius:3px;padding:10px;background-color:#fafafa;color:#e51c23;">Schedule Pending Approval</paper-material>
  <% end %>
<% end %>